[![Maven central](https://maven-badges.herokuapp.com/maven-central/io.github.flashvayne/chatgpt-spring-boot-starter/badge.svg)](https://maven-badges.herokuapp.com/maven-central/io.github.flashvayne/chatgpt-spring-boot-starter)

[中文版文档](https://vayne.cc/2022/12/17/chatgpt-spring-boot-starter)

# chatgpt-spring-boot-starter
Use chatgpt in springboot project easily.  
This starter is based on Openai Official Apis.

## Usage
### 1.Add maven dependency.
```pom
<dependency>
    <groupId>io.github.flashvayne</groupId>
    <artifactId>chatgpt-spring-boot-starter</artifactId>
    <version>1.0.2</version>
</dependency>
```
### 2.Set chatgpt properties in your application.yml

```yml
chatgpt:
  api-key: xxxxxxxxxxx   #api-key. It can be generated here https://platform.openai.com/account/api-keys
# some properties as below have default values. For descriptions of these fields, please refer to https://platform.openai.com/docs/api-reference/completions/create and https://platform.openai.com/docs/api-reference/chat/create
#  url: https://api.openai.com/v1/completions
#  max-tokens: 500
#  model: text-davinci-003
#  temperature: 0.0
#  top-p: 1.0
#  multi:
#    model: gpt-3.5-turbo
#    url: https://api.openai.com/v1/chat/completions
#    max-tokens: 500
#    temperature: 0.0
#    top-p: 1.0
```
### 3.Inject bean ChatgptService anywhere you require it, and invoke its method to send message to chatgpt and get the response.
#### 3.1 Single message
```java
@Autowired
private ChatgptService chatgptService;

public void test(){
    String responseMessage = chatgptService.multiChat(Arrays.asList(new MultiChatMessage("user","how are you?")));
    System.out.print(responseMessage); //\n\nAs an AI language model, I don't have feelings, but I'm functioning well. Thank you for asking. How can I assist you today?
}

public void test2(){
    String responseMessage = chatgptService.sendMessage("how are you");
    System.out.print(responseMessage); //I'm doing well, thank you. How about you?
}
```
#### 3.2 Multi message. You can take a series of messages (including the conversation history) as input , and return a response message as output.
```java
@Autowired
private ChatgptService chatgptService;

public void testMultiChat(){
    List<MultiChatMessage> messages = Arrays.asList(
            new MultiChatMessage("system","You are a helpful assistant."),
            new MultiChatMessage("user","Who won the world series in 2020?"),
            new MultiChatMessage("assistant","The Los Angeles Dodgers won the World Series in 2020."),
            new MultiChatMessage("user","Where was it played?"));
    String responseMessage = chatgptService.multiChat(messages);
    System.out.print(responseMessage); //The 2020 World Series was played at Globe Life Field in Arlington, Texas.
}
```
Messages must be an array of message objects, where each object has a role (either "system", "user", or "assistant") and content (the content of the message). Conversations can be as short as 1 message or fill many pages.

+ The system message helps set the behavior of the assistant. In the example above, the assistant was instructed with "You are a helpful assistant." 
+ The user messages help instruct the assistant. They can be generated by the end users of an application, or set by a developer as an instruction.
+ The assistant messages help store prior responses. They can also be written by a developer to help give examples of desired behavior.
For more details, please refer to [chat format](https://platform.openai.com/docs/guides/chat/introduction)

## Demo project：
[demo-chatgpt-spring-boot-starter](https://github.com/flashvayne/demo-chatgpt-spring-boot-starter)

## Demo online experience
https://vayne.cc/chat/

*This demo does not work now, because my account's request times quota is exceeded.  
You can use your own account api-key to let your demo work.  

# Author Info
Email: flashvayne@gmail.com

Blog: https://vayne.cc
